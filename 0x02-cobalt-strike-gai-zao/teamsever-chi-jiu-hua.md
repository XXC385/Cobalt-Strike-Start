# TeamSever æŒä¹…åŒ–

åœ¨æˆ‘ä»¬å®‰è£…å®Œåï¼Œä¼šå‘ç°ä¸€æ®µæ—¶é—´ä¸ä½¿ç”¨ SSH å·¥å…·ä¼šè‡ªåŠ¨æ–­å¼€ä¸ TeamSever æœåŠ¡å™¨çš„è¿æ¥ï¼Œå¯¼è‡´æœåŠ¡ç«¯ä¸å¯ç”¨ï¼Œè¿™æ—¶å€™ä½¿ç”¨ `screen` å·¥å…·å®ç°TeamSever çš„æŒä¹…åŒ–

> **GNU Screen**æ˜¯ä¸€æ¬¾ç”±GNUè®¡åˆ’å¼€å‘çš„ç”¨äºå‘½ä»¤è¡Œç»ˆç«¯åˆ‡æ¢çš„è‡ªç”±è½¯ä»¶ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡è¯¥è½¯ä»¶åŒæ—¶è¿æ¥å¤šä¸ªæœ¬åœ°æˆ–è¿œç¨‹çš„å‘½ä»¤è¡Œä¼šè¯ï¼Œå¹¶åœ¨å…¶é—´è‡ªç”±åˆ‡æ¢

1. ä¸‹è½½ `screen` å·¥å…·ï¼Œæˆ‘çš„ç¯å¢ƒä½¿ç”¨çš„æ˜¯ Centos 7.6 ï¼Œæ‰€ä»¥ä½¿ç”¨ `yum install screen`

```
apt-get install screen # Debianç³»åˆ—ï¼šDebianã€Ubuntuç­‰
yum install screen  # RedHatç³»åˆ—ï¼šRedhatã€Centosã€Fedoraç­‰
```

1. å‡ºç° `Is this ok [y/d/N]:` ï¼Œè¾“å…¥ `y` ï¼Œè¿›è¡Œåç»­å®‰è£…ï¼Œå‡ºç°**å®Œæ¯•**åˆ™å®‰è£…æˆåŠŸ

![image-20221006230229496](https://raw.githubusercontent.com/XXC385/img/main/image-20221006230229496.png)

ğŸ“– ã€çŸ¥è¯†ç‚¹ã€‘yï¼šä¸‹è½½å®‰è£…/dï¼šåªä¸‹è½½ä¸å®‰è£…/nï¼šä¸å®‰è£…

1. è¾“å…¥ `screen` ï¼Œä¼šå¼€å¯ä¸€ä¸ªæ–°çš„çª—å£

![image-20221006230311059](https://raw.githubusercontent.com/XXC385/img/main/image-20221006230311059.png)

1. åœ¨æ–°çª—å£å¯åŠ¨ Teamserver æœåŠ¡ï¼ˆéœ€è¦åˆ‡æ¢åˆ°ç›®æ ‡ç›®å½•ï¼Œå¦‚å¿˜è®°æ–¹æ³•è§ **é…ç½®Teamserver** éƒ¨åˆ†ï¼‰

```
cd /home/CobaltStrike # è¿™ä¸ªæ˜¯æˆ‘çš„è·¯å¾„
sudo ./teamserver <ip> <password> #IPï¼šæœ¬æœºIP    passwordï¼šæœ¬æœºå¯†ç 
```

![image-20221006230403071](https://raw.githubusercontent.com/XXC385/img/main/image-20221006230403071.png)

å‡ºç°æ­¤å›æ˜¾åä»£è¡¨æœåŠ¡æ­£å¸¸å¯åŠ¨

1. æŒ‰ä¸‹ç»„åˆé”® `Ctrl+A+D` å…³é—­çª—å£å¹¶åå°æ‰§è¡Œï¼Œå¯ä»¥çœ‹åˆ°æœ‰ä¼šè¯ä¸ºç™»å‡ºçŠ¶æ€

![image-20221006230419322](https://raw.githubusercontent.com/XXC385/img/main/image-20221006230419322.png)

1. ä½¿ç”¨ `screen â€“ls` æŸ¥çœ‹åå°ä¼šè¯ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬åˆšæ‰æŒ‚èµ·çš„æœåŠ¡ï¼Œå‘ç°æœ‰ä¸€ä¸ª

```
3107.pts-0.test1234Atest (Detached)
```

è¿™ä¸ªå°±æ˜¯æˆ‘ä»¬åˆšæ‰æŒ‚èµ·çš„é¡¹ç›®ï¼Œä½¿ç”¨ **`screen â€“r id`** å³å¯å›åˆ°åˆšæ‰æŒ‚èµ·çš„é¡¹ç›®ï¼ˆæ¯ä¸ªæœºå™¨ `id` ä¸åŒï¼Œæ ¹æ®è‡ªå·±çš„æƒ…å†µæ¥ï¼Œè¿™é‡Œæˆ‘çš„å°±æ˜¯ 3107 ï¼‰

1. ä¹‹åå¯¹æˆ‘ä»¬åˆšæ‰çš„æˆæœè¿›è¡Œæµ‹è¯•ï¼Œå…³é—­ SSH è¿æ¥åå‘ç° Teamserver ä¾ç„¶æ­£å¸¸å·¥ä½œï¼Œå¦‚æœéœ€è¦å…³é—­åˆšæ‰çš„ä»»åŠ¡ï¼Œå›åˆ° screen é¡µé¢æ‰§è¡Œ `screen -S id -X quit` å³å¯åˆ é™¤ä¼šè¯

![image-20221006230146511](https://raw.githubusercontent.com/XXC385/img/main/image-20221006230146511.png)
